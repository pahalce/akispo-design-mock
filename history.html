<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AkiSpot - 履歴</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  
  <!-- デザイントークン -->
  <link rel="stylesheet" href="design-tokens.css">
  <script src="tailwind-config.js"></script>
</head>
<body class="min-h-screen bg-gray-50 text-gray-900 font-sans antialiased pb-24">
  <!-- Header -->
  <header class="bg-white shadow-sm sticky top-0 z-20">
    <div class="h-header flex items-center justify-center px-4">
      <h2 class="text-lg font-bold text-secondary">履歴</h2>
    </div>
    <div class="flex justify-around border-b border-gray-200">
      <button id="yes-tab" class="w-full py-3 text-sm border-b-2 border-primary text-primary font-bold transition-colors" onclick="switchTab('yes')">YESしたスポット</button>
      <button id="viewed-tab" class="w-full py-3 text-sm border-b-2 border-transparent text-gray-500 font-medium transition-colors" onclick="switchTab('viewed')">閲覧したスポット</button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="p-4">
    <div class="space-y-4" id="content-container">
      <!-- Content will be populated by JavaScript -->
    </div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="fixed bottom-0 left-0 right-0 bg-white shadow-lg">
    <div class="flex justify-around max-w-md mx-auto">
      <a class="flex flex-col items-center justify-center text-gray-400 hover:text-primary py-3 px-4 w-1/3 transition-colors" href="home.html">
        <span class="material-symbols-outlined text-4xl">search</span>
        <span class="text-xs font-medium mt-1">探す</span>
      </a>
      <a class="flex flex-col items-center justify-center text-primary py-3 px-4 w-1/3" href="history.html">
        <span class="material-symbols-outlined filled text-4xl">history</span>
        <span class="text-xs font-bold mt-1">履歴</span>
      </a>
      <a class="flex flex-col items-center justify-center text-gray-400 hover:text-primary py-3 px-4 w-1/3 transition-colors" href="settings.html">
        <span class="material-symbols-outlined text-4xl">settings</span>
        <span class="text-xs font-medium mt-1">設定</span>
      </a>
    </div>
  </nav>

  <script>
    const yesSpotsData = [
      {
        name: "カフェ・ベローチェ",
        date: "2024/07/28 15:00",
        image: "https://lh3.googleusercontent.com/aida-public/AB6AXuBnZZFuCs6SsWdySJkCr-x5CKx88Xm4vvbdhkVdClylk9dMmYTeMC2a5uxOL3iTNWiDNHGvApiY0bKGbFoFe6RIKhSJj3rqruDfjgsr7WBv5Su_E-4c0xaoHBA5pU36GxZhqtYPGuQvmbl71QOX5eUwbSSruUj58B8IdpkL3xGy8O-svgvg0sFfzpNLof5-wOk_Auf-wTSA2cZqo5-vKwH4Md4KnAov84j5yMy7b5Kw-Ohf0OHEHl6k11ibCe7jui51eerhY4GM2Mk",
        warning: null,
        badge: "YES"
      },
      {
        name: "ルノアール",
        date: "2024/07/27 11:30",
        image: "https://lh3.googleusercontent.com/aida-public/AB6AXuCi-RkrwxKWwdtOzBfuLJIFPXZD0kjiqWPKXStW34ZN-FvPtGBQzPuRTa3qCqca2W1b7405C5pbahPcBw8lr9lxTxP0kNkH4r7REO3JqIGHT9ff7lJT7JSkLzLyVcOBRPc6JayYqFOo-hMMP8tdFoHl4o2KCqRMyYtf2S2HnPYeDZLanxe9hs4GPiG9aIyH7IoK0Yk9bUItyzaz57M3Q4Hfd8DTkxY71ZHKZiNevXwAfKZqkyJHnxAzbyFgBifJW-eqPKWPrI7RUhI",
        warning: "注意: 週末は混雑する可能性があります。長時間の利用は難しいかもしれません。",
        badge: "YES"
      },
      {
        name: "ドトールコーヒーショップ",
        date: "2024/07/26 18:45",
        image: "https://lh3.googleusercontent.com/aida-public/AB6AXuDLfg1pNOUgox8OGC3Tk-omvFxx3QnQ-AUqWg1TOCbqdbp2J33cCI1hw9D-StvsVQHN9MJTqgMK4nPy6MYod_Rtq6VLq-N7i44AkGKycLjuVUbnrWFQepkCkTvYRoOAidgT8cVBESw3Y3aKPxM7K5vc4xQ2l2C2hsZodlH01XddiWcsYFTPTYg8Fuq51cwe03QJiefs0D0cnB0uvfcP9f7-hXq6I-XfKRnPucEXYK0fKcNSrymbzzDI5bwNSmNjbtHEF7iN-nGTBmY",
        warning: null,
        badge: "YES"
      }
    ];

    const viewedSpotsData = [
      {
        name: "スターバックスコーヒー",
        date: "2024/07/25 14:00",
        image: "https://lh3.googleusercontent.com/aida-public/AB6AXuA_8yZyB4vCXPuA3tqJWDkB15BOWmwutnzjOCabbsfch-RbAYk7a660-35ox9akMk7erMJRi0WiT6M0psNgdJZf7HaVamZxE5rbg05kQbuOlP4ab711p6ES6WXYJGrZ3q5Ny_ve5O_cp741WeK6Pe6BFVaMO62j8H34pM54_CaH5z65jX_utWMHL_8qVs3cxws7I2zktEwDE-lK2uURukJurYiHvOnijEEeGFdDgsT88tWn_F4CocxWWk8q9axPF_8qBJb6N47Ow3M",
        warning: null,
        badge: "閲覧"
      },
      {
        name: "タリーズコーヒー",
        date: "2024/07/24 10:15",
        image: "https://lh3.googleusercontent.com/aida-public/AB6AXuDO099dIWeR7LmRol2uMcgzXbB5o_njzCT0bMmJuRDnTaifMqBx3hLBo4HzMok-6oSRQ38OF8nIOsEKFQQXydWSTtdTWxP2k_iVtohjeSMDtTv9d8wnJ7B6LVRvSCLFgcDhkeoGrLD0nXuWpAbIj1qYTnPMZ451NexwUYQPWrsaISOE3P-GjtK1rhQtcXYGoqhwhv1iVNDZJxR0F-mJIJiwcH5c7ZhAT1uZox0mbnwD3PSAX7mas8-n4nuwZTAZXhEdS6LYKiega9Y",
        warning: null,
        badge: "閲覧"
      }
    ];

    function createSpotCard(spot) {
      const badgeColor = spot.badge === "YES" ? "bg-green-500" : "bg-gray-400";
      let warningHtml = '';
      if (spot.warning) {
        warningHtml = `
          <div class="flex items-start gap-2 rounded-lg bg-orange-100 p-3 mt-4">
            <span class="material-symbols-outlined text-orange-500 text-lg mt-0.5">warning</span>
            <p class="text-xs text-orange-700">${spot.warning}</p>
          </div>
        `;
      }
      return `
        <div class="bg-white rounded-xl p-4 shadow-sm">
          <div class="flex items-start gap-4">
            <div class="relative">
              <img alt="${spot.name}" class="w-24 h-24 rounded-lg object-cover" src="${spot.image}"/>
              <div class="absolute -top-2 -right-2 ${badgeColor} text-white text-xs font-bold px-2 py-1 rounded-full shadow">
                ${spot.badge}
              </div>
            </div>
            <div class="flex-1">
              <p class="text-base font-bold text-secondary">${spot.name}</p>
              <p class="text-xs text-gray-500 mt-1">${spot.date}</p>
            </div>
          </div>
          ${warningHtml}
        </div>
      `;
    }

    function renderContent(spots) {
      const container = document.getElementById('content-container');
      if (spots.length === 0) {
        container.innerHTML = `
          <div class="bg-white rounded-xl shadow-lg p-8 text-center mt-8">
            <span class="material-symbols-outlined icon-2xl text-primary mb-4 block">explore</span>
            <h3 class="text-xl font-bold text-secondary mb-2">まだ利用したスポットがありません</h3>
            <p class="text-gray-600 text-base">お気に入りのスポットを見つけにいきましょう！</p>
          </div>
        `;
      } else {
        container.innerHTML = spots.map(createSpotCard).join('');
      }
    }

    function switchTab(tab) {
      const yesTab = document.getElementById('yes-tab');
      const viewedTab = document.getElementById('viewed-tab');
      
      if (tab === 'yes') {
        // YESタブをアクティブに
        yesTab.classList.remove('border-transparent', 'text-gray-500', 'font-medium');
        yesTab.classList.add('border-primary', 'text-primary', 'font-bold');
        // 閲覧タブを非アクティブに
        viewedTab.classList.remove('border-primary', 'text-primary', 'font-bold');
        viewedTab.classList.add('border-transparent', 'text-gray-500', 'font-medium');
        
        renderContent(yesSpotsData);
      } else {
        // 閲覧タブをアクティブに
        viewedTab.classList.remove('border-transparent', 'text-gray-500', 'font-medium');
        viewedTab.classList.add('border-primary', 'text-primary', 'font-bold');
        // YESタブを非アクティブに
        yesTab.classList.remove('border-primary', 'text-primary', 'font-bold');
        yesTab.classList.add('border-transparent', 'text-gray-500', 'font-medium');
        
        renderContent(viewedSpotsData);
      }
    }

    // Initial render
    renderContent(yesSpotsData);
  </script>
</body>
</html>

