空きスポ MVP 要件定義書（最終決定版・口コミ分析特化 / キーワード辞書強化版）

⸻

1. プロジェクトのゴール

ユーザーが 「今すぐ座れる場所」 を、選択負担ゼロで直感的に見つけられるようにする。
→ マップ探索ではなくスワイプYES/NOのみで完結。
都市生活の「余白時間に安心」を与える。

⸻

2. MVPの定義（0→1フェーズ）

*   **データソース**
    *   Googleマップ口コミ（テキストデータのみ）
    *   ※Google API（リアルタイム混雑データ）は使用しない。
*   **技術制約**
    *   初期開発は口コミからのキーワード抽出・単純集計のみ（高度な自然言語処理は行わない）。
*   **コア機能**
    1.  口コミのキーワード分析（SVOC+T）により「時間帯別の座れる傾向」と「信頼度」を算出。
    2.  スポットカードを順番に提示（YES/NOのみ）。
    3.  YESで終了 → Googleマップリンク or 電話に遷移。

⸻

3. 評価基準とキーワード辞書（影響度スコア導入・強化版）

口コミに出現するキーワードに「影響度（強度）」を設定し、スコア化する。口語表現や具体的な状況描写を網羅的に含める。

① 座席保証（50%）- 影響度範囲: -5〜+5
*   **ポジティブ（強 +5）**: ガラガラ, 閑散, 貸切状態, 誰もいない, 人っ子一人いない, （席が）選び放題, スカスカ, （席が）余りまくってる
*   **ポジティブ（中 +3）**: 空席あり/目立つ, 穴場, すぐ/即(入れた/座れた/通された/案内された), 待たなかった, スムーズに, 即入店/着席, 待たずに/すんなり/余裕で(入れる/座れる), 並ばずに, ノンストレスで, 待ち時間なし/ゼロ
*   **ポジティブ（弱 +1）**: 空いている, 座れた, 入れた, 確保できた, ゆったり, 席数が多い, 大箱, 滑り込めた, 広い, キャパがある/大きい, 回転が速い, まばら, ちらほら
*   **ネガティブ（弱 -1）**: 混んでいる, 並んでいる, 多い, いっぱい, 賑やか, ほぼ満席, 席数が少ない, 狭い, こじんまり, キャパが小さい, 回転が遅い, 人が多い
*   **ネガティブ（中 -3）**: 混雑, 行列, 待ち時間(発生), (席が)埋まっている/ない, 空いてない, ぎっしり, ウェイティング, 混み合っている, 並ぶ, 待たされる, 待った, 人だかり, ピーク, ラッシュ, 整理券, （席を）探した, 争奪戦, 相席, `[数字]分/組待ち`
*   **ネガティブ（強 -5）**: 満席, 満員, 激混み, 入れなかった, 諦めた, 断られた, 長蛇の列, 難民, 超満員, カオス, 芋洗い状態, ごった返す, 大行列, 大混雑, ぎゅうぎゅう, すし詰め, 入店拒否, 入場制限, パンク状態, `[数字]時間待ち`

② 環境快適度（25%）- 影響度範囲: -3〜+3
*   **ポジティブ（強 +3）**: 静寂, 清潔感(抜群/がある), 開放的, 広々, 快適, 最高(の環境/雰囲気), リラックスできる, ピカピカ, 掃除が行き届いている, ゆったり(できる/過ごせる), パーソナルスペース, （隣との）距離が広い/遠い
*   **ポジティブ（弱 +1）**: 静か, 落ち着ける, 集中できる, 綺麗, 居心地いい, 休める, 明るい, おしゃれ, 適温, 空調が良い, BGMが良い, 清潔, 眺めが良い, おひとりさま向き/多い, 大人向け, のんびり, まったり
*   **ネガティブ（弱 -1）**: 狭い, 窮屈, ざわざわ, バタバタ, 落ち着かない, 暗い, 圧迫感, （隣との）距離が近い, ごちゃごちゃ, 散らかっている, 気が散る, 学生/若者/子連れ/団体が多い(※文脈による)
*   **ネガティブ（強 -3）**: うるさい, 騒がしい, ガヤガヤ, ワイワイ, 騒音, 騒々しい, 汚い, 暑い, 寒い, 蒸し暑い, タバコ臭い/煙い/煙たい, 異臭, 油臭い, やかましい, 不潔, 空調が悪い, 居心地が悪い, 集中できない, 休めない

④ 滞在歓迎度（25%）- 影響度範囲: -3〜+3
*   **ポジティブ（強 +3）**: 長居できる/歓迎/OK, (勉強/作業/PC/仕事)（可能/歓迎/OK）, 寛容, ノマド向き/歓迎, （時間を）気にせず過ごせる, 神対応, コンセント/電源(あり/多い), Wi-Fi/ワイファイ(あり/速い/安定)
*   **ポジティブ（弱 +1）**: 捗る(はかどる), 気兼ねなく, （店員が）優しい/親切, 対応が良い, 放置してくれる(※良い意味で), 自由(な雰囲気), (勉強/作業/PC)黙認
*   **ネガティブ（弱 -1）**: 長居しにくい/しづらい, （店員の）視線が気になる, プレッシャー, 対応が悪い, 不親切, 塩対応, 素っ気ない, 居づらい, 気が引ける, 回転率重視, コンセント/電源(ない/少ない/使えない), Wi-Fi/ワイファイ(ない/遅い/不安定)
*   **ネガティブ（強 -3）**: (勉強/作業/PC/長居)禁止/NG/不可/お断り, 追い出される, 急かされる, 注意される, 退店を促される/させられる, (対応が)厳しい/悪い/最悪, 時間制, 制限時間, ルールが厳しい, ワンオーダー制, 張り紙がある, `[数字]分/時間制`, 入れ替え制

⸻

4. 否定形処理ルール（MVP版）

*   否定形キーワード：「ない」「無い」「ません」「ず」「不可」「禁止」「ダメ」「NG」などを定義。
*   **簡易処理**: 評価キーワードの周辺（直前・直後数文字）に否定形キーワードが出現した場合、影響度スコアを反転させる。
    *   例：「満席(-5)」＋「ではない」→ +5点。
*   ※MVPでは二重否定や複雑な逆接は考慮しない。

⸻

5. 時間帯分析と信頼度（補正要素の代替）

リアルタイムデータの代わりに、口コミから時間帯別の傾向(T)を推定し、データの信頼度を算出する。
Tの軸を取るのはキーワード辞書がヒットした場合のみ。

*   **時間帯セグメント定義**
    *   平日(WD)／休日(WE)を区別し、朝/午前(AM)、ランチ(Lunch)、午後(PM)、夜(Night)の4セグメントで分析。
*   **時間帯特定キーワード（T・強化版）**
    *   **平日(WD)**: 平日, 週中, ウィークデー, (月〜金)曜, 仕事(中/前/帰り), 通勤, テレワーク, リモートワーク, 出張, 打ち合わせ, 商談, 外回り, ノマド, アポ合間, 営業中, 出勤/退勤(時)
    *   **休日(WE)**: 週末, 休日, (土日)曜, 祝日, 連休, 三連休, GW, ゴールデンウィーク, お盆, 夏休み, 冬休み, 年末年始, 観光, 買い物(帰り/途中), レジャー, ショッピング中, 休みの日
    *   **朝/午前(AM)**: 朝, モーニング, 早朝, 午前中, ブランチ, 開店/オープン（直後/待ち/アタック）, 出勤前, 朝イチ, 朝活, 朝食, 始業前, 早い時間
    *   **昼(Lunch)**: 昼, お昼, ランチ(タイム/メニュー), 昼食, 昼飯, 昼休み, 昼時(ひるどき), お昼時, ピークタイム, 真っ昼間, 正午, 12時台, 13時台, ランチ難民, ランチラッシュ
    *   **午後(PM)**: 午後, 昼下がり, 昼過ぎ, ティータイム, カフェタイム, アイドルタイム, おやつ時, 3時のおやつ, 14時台, 15時台, 16時台, 遅めのランチ, レイトランチ
    *   **夜(Night)**: 夕方, 夜, ディナー, 夜カフェ, 閉店間際, 仕事帰り, 退勤後, アフターファイブ, 華金, 残業後, 二次会, 二軒目, 締め, 終電前, 深夜, 夜遅く, 夕食, 晩御飯, ラストオーダー
    *   **直接指定**: `[数字]時(頃/台/半/過ぎ/前)`, `[数字]:[数字]`（正規表現等で対応）
*   **信頼度の算出**
    *   セグメントごとの分析元口コミ件数に基づき定義。
        *   高：15件以上 / 中：5〜14件 / 低：1〜4件 / データ不足：0件
    *   時間指定のない口コミは「全体傾向(ALL)」として保持し、データ不足時の補完に使用。信頼度はUI（傾向チップ）に反映する。

5.5 追加情報具体的な計算の仕方
5.の時間(午前、昼、午後、夜)ごとにヒットしたキーワードの個数の点数を足し引きする。
例:
昼の口コミの中に、ガラガラが3回口コミに登場、満席が１回だったら3*5+1*(-5)=10点になる。
時間どれにも当てはまらない場合は全体傾向として出す。
なので、最終的に店の評価は

座席保証
午前：5点
昼：-10点
午後：10点
夜：1点
全体傾向：20点

⸻

6. スコア計算式 // TODO: ここはもっと詰める。何かしらの方法で割合化して相対値にしたい。

座れるスコア =
(①スコア×0.50) + (②スコア×0.25) + (④スコア×0.25)

→ 上記計算で得られた統合スコアを、以下の式で0〜100点に正規化して表示。

`最終スコア = (統合スコア + 4.0) / 8.0 * 100` 
⸻

7. 対象カテゴリ

*   飲食系：カフェ、レストラン、ファミレス、ファストフード、居酒屋
*   娯楽系：カラオケ、漫画喫茶、パチンコ、ゲームセンター
*   公共系：公園、図書館、市役所、区役所、公民館、美術館、博物館、水族館
*   商業施設系：ショッピングモール、デパート
*   特殊系：ベンチ❌ 病院・クリニックは除外

⸻

8. カードUI（スワイプ式・傾向表示版）

「保証」ではなく「傾向」と「信頼度」を明示し、ユーザーの期待値をコントロールする。

デフォルトカード（最小情報）

◯◯カフェ・徒歩5分
スコア: 74 [傾向: 座れそう?]
[ YES 行く ] [ NO ]
詳細 ›

*   表示内容：店名・距離・スコア・傾向チップ・YES/NOのみ
*   **傾向チップ表示ルール**（スコアと信頼度の統合）

| スコア範囲 | 信頼度: 高/中 | 信頼度: 低/データ不足 |
| :--- | :--- | :--- |
| 75〜(高) | **[傾向: 空きあり]** (青・太字) | *[傾向: 空きあり?]* (青・細字/薄背景) |
| 50〜74(中) | **[傾向: 座れそう]** (緑・太字) | *[傾向: 座れそう?]* (緑・細字/薄背景) |
| 25〜49(低) | **[傾向: やや混雑]** (オレンジ・太字)| *[傾向: やや混雑?]* (オレンジ・細字/薄背景)|
| 〜24(低) | **[傾向: 混雑]** (赤・太字)| *[傾向: 混雑?]* (赤・細字/薄背景)|

詳細カード（必要な人だけ開く）⚠️ 有料（フリータイムあり）

混雑傾向（現在: [平日・ランチ]）
信頼度: 低 (分析元口コミ: 3件)
口コミ傾向: [+] すぐ座れた [-] 席数が少ない
内訳: 座席38 / 環境22 / 歓迎14
[ 📍地図で開く ] [ 📞電話 ]

*   注意文⚠️：**「この情報は過去の口コミ分析に基づく『傾向』であり、リアルタイム状況を保証しません」**を明記。有料・会員制なども明示。

⸻

9. 提示順序

*   スコア順で固定。
*   同スコアの場合：距離 → 信頼度高さ → 屋内優先。

⸻

10. 学習設計（MVP版）

*   YES/NOログを全体集計。
*   YES率/NO率に基づき、キーワードの影響度スコアを動的に調整する。
*   ユーザー個別最適化は次段階。

⸻

11. 投資家/事業家視点（更新版）

*   メリット
    *   圧倒的にシンプルなUX（YES/NOのみ）。
    *   外部APIに依存しない、口コミデータのみで完結する超低コスト・独立設計。
*   デメリット
    *   キーワード分析のみのため、初期は精度が不安定（網羅的な辞書と信頼度表示でカバー必須）。
    *   リアルタイム性がないため、突発的な混雑に対応できない。
    *   誤誘導リスク → 期待値コントロールが生命線。
*   哲学的再定義
空きスポは都市における余白時間を最適化するAI。
→ 「座れるかもしれない期待感」を提供することが初期の価値。

⸻

12. KPI（合理性チェック）

*   ファーストカードYES率：15〜25%
*   3連続NO率：20%以下
*   YES後「実際に座れた」報告率：**60%以上**（期待値コントロールの成功を測る）
*   詳細開封率：適正バランス

⸻

まとめ

*   MVPは「口コミキーワード抽出」のみで構成（API不使用）。
*   **SVOC+T観点でキーワード辞書を大幅に拡充し、口語表現、具体的状況（行動、設備、時間コンテキスト）を網羅することで、単純集計の精度を最大化。**
*   「時間帯別分析」と「信頼度」導入で、リアルタイムデータ不在をカバー。
*   「保証」ではなく「傾向」チップと注意文で期待値をコントロールし、初期ユーザーの離脱を防ぐ。
👉 MVPは「YES/NOだけで即決できるスワイプ式UX」＋「拡充された辞書による傾向分析」＋「信頼度明示による期待値コントロール」で実装する。

⸻